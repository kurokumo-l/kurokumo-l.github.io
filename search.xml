<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>C++实现Event机制</title>
      <link href="/2023/11/01/C++%E5%AE%9E%E7%8E%B0Event%E6%9C%BA%E5%88%B6/"/>
      <url>/2023/11/01/C++%E5%AE%9E%E7%8E%B0Event%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<p>最近设计模式的课上讲到了观察者模式，一下子就想到了C#中的委托及事件，因为在Unity项目里经常用到。而用习惯了C#中的事件之后，就觉得课上讲的实现实际使用起来太过麻烦了。</p><p>由于最近在学C++，设计模式课上的作业都是用C++来写的，所以就想到用C++来复刻一下C#中的事件机制。</p><hr><h2 id="C-中的事件"><a href="#C-中的事件" class="headerlink" title="C#中的事件"></a>C#中的事件</h2><p>既然要复刻，那还是先来看看正主是个什么样子。  </p><p>比如说我们要写一个当玩家升级时血量回满并根据等级提升最大生命值的功能，C#实现如下：</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HealthPoint</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> CurrentValue &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> MaxValue &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HealthPoint</span>(<span class="params"><span class="built_in">int</span> cv, <span class="built_in">int</span> mv</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        CurrentValue = cv;</span><br><span class="line">        MaxValue = mv;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnPlayerLevelUp</span>(<span class="params"><span class="built_in">int</span> pl</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        MaxValue += pl * <span class="number">10</span>;</span><br><span class="line">        CurrentValue = MaxValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Player</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Level &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> HealthPoint Health &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> Action&lt;<span class="built_in">int</span>&gt; LevelUpEvent;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Player</span>(<span class="params"><span class="built_in">int</span> cv, <span class="built_in">int</span> mv</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Level = <span class="number">1</span>;</span><br><span class="line">        Health = <span class="keyword">new</span>(cv, mv);</span><br><span class="line">        LevelUpEvent += Health.OnPlayerLevelUp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">LevelUp</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Level += <span class="number">1</span>;</span><br><span class="line">        LevelUpEvent?.Invoke(Level);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Player player = <span class="keyword">new</span>(<span class="number">50</span>, <span class="number">100</span>);</span><br><span class="line">Console.WriteLine(<span class="string">&quot;当前血量：&#123;0&#125;，最大血量：&#123;1&#125;&quot;</span>, player.Health.CurrentValue, player.Health.MaxValue);</span><br><span class="line">player.LevelUp();</span><br><span class="line">Console.WriteLine(<span class="string">&quot;当前血量：&#123;0&#125;，最大血量：&#123;1&#125;&quot;</span>, player.Health.CurrentValue, player.Health.MaxValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="comment">// 当前血量：50，最大血量：100</span></span><br><span class="line"><span class="comment">// 当前血量：120，最大血量：120</span></span><br></pre></td></tr></table></figure><p><code>event Action&lt;int&gt; LevelUpEvent</code>表示<code>LevelUpEvent</code>接受一系列函数类型为<code>void(int)</code>的函数，可以使用<code>+=</code>或<code>-=</code>来添加或删除具有这种类型的对象方法。</p><p>而<code>event</code>限定<code>LevelUpEvent</code>不能被重新赋值，并且只能在定义它的类，也就是<code>Player</code>中调用<code>Invoke</code>方法。</p><h2 id="在C-中的实现"><a href="#在C-中的实现" class="headerlink" title="在C++中的实现"></a>在C++中的实现</h2><p><em><strong>C#中除了<code>Action</code>，还有类似的<code>Func</code>是可以有返回值的，由于这个功能我基本没用过，并且实现上是完全类似的，所以在此我只实现了没有返回值的<code>Action</code>。除此之外限定只能在定义的类内调用<code>Invoke</code>也没能实现。</strong></em></p><h3 id="C-中的可调用对象"><a href="#C-中的可调用对象" class="headerlink" title="C++中的可调用对象"></a>C++中的可调用对象</h3><p>想要统一的调用方法，至少需要这些方法有统一的类型。</p><p>然而在C++中有多种可调用对象，比如下面的这些例子，它们都是返回类型为<code>void</code>接受一个<code>int</code>参数的可调用对象，但实际的类型完全不同。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Func</span><span class="params">(<span class="type">int</span>)</span> </span>&#123;&#125; <span class="comment">//普通函数</span></span><br><span class="line"><span class="built_in">void</span> (*Func1)(<span class="type">int</span>) = Func; <span class="comment">//函数指针</span></span><br><span class="line"><span class="keyword">auto</span> Func3 = [](<span class="type">int</span>) &#123;&#125;; <span class="comment">// lambda</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Func4</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span>)</span> </span>&#123;&#125; <span class="comment">// 仿函数</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Func5</span><span class="params">(<span class="type">int</span>)</span> </span>&#123;&#125; <span class="comment">// 成员函数</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>好在可以使用<code>std::function</code>（以下简写为<code>function</code>）来将其统一，其中普通函数、函数指针以及lambda表达式都可以直接用于构造<code>function</code>。而仿函数以及成员函数我们可以使用lambda封装后再转换为<code>function</code>。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::function&lt;<span class="title">void</span><span class="params">(<span class="type">int</span>)</span>&gt; <span class="title">f1</span><span class="params">(Func1)</span></span>;</span><br><span class="line"><span class="function">std::function&lt;<span class="title">void</span><span class="params">(<span class="type">int</span>)</span>&gt; <span class="title">f2</span><span class="params">(Func2)</span></span>;</span><br><span class="line"><span class="function">std::function&lt;<span class="title">void</span><span class="params">(<span class="type">int</span>)</span>&gt; <span class="title">f3</span><span class="params">(Func3)</span></span>;</span><br><span class="line"></span><br><span class="line">Func4 func4;</span><br><span class="line">MyClass func5;</span><br><span class="line"><span class="function">std::function&lt;<span class="title">void</span><span class="params">(<span class="type">int</span>)</span>&gt; <span class="title">f4</span><span class="params">([obj = &amp;func4](<span class="type">int</span> a) &#123; obj-&gt;<span class="keyword">operator</span>()(a); &#125;)</span></span>;</span><br><span class="line"><span class="function">std::function&lt;<span class="title">void</span><span class="params">(<span class="type">int</span>)</span>&gt; <span class="title">f5</span><span class="params">([obj = &amp;func5](<span class="type">int</span> a) &#123; obj-&gt;Func5(a); &#125;)</span></span>;</span><br></pre></td></tr></table></figure><p>这样就实现了所有可调用对象的类型统一。</p><h3 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h3><p>为了使语义更加直观，再做一层装饰。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt; <span class="keyword">class</span> <span class="title class_">Listener</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Listener</span>(std::function&lt;<span class="built_in">void</span>(Args...)&gt; handler) : <span class="built_in">m_Handler</span>(std::<span class="built_in">move</span>(handler))</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">    <span class="built_in">Listener</span>(T *object, <span class="built_in">void</span> (T::*handler)(Args...))</span><br><span class="line">        : <span class="built_in">m_Handler</span>([=](Args &amp;&amp;...args) &#123; (object-&gt;*handler)(std::forward&lt;Args&gt;(args)...); &#125;)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Listener</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">Listener</span>(<span class="type">const</span> Listener &amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    <span class="built_in">Listener</span>(Listener &amp;&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    Listener &amp;<span class="keyword">operator</span>=(<span class="type">const</span> Listener &amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    Listener &amp;<span class="keyword">operator</span>=(Listener &amp;&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Handle</span><span class="params">(Args &amp;&amp;...args)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">m_Handler</span>(std::forward&lt;Args&gt;(args)...);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">    std::function&lt;<span class="type">void</span>(Args...)&gt; m_Handler;</span><br></pre></td></tr></table></figure><h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><p>有了可以响应事件的监听器，接下来就是事件本身了。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt; <span class="keyword">class</span> <span class="title class_">Event</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Event</span>() = <span class="keyword">default</span>;</span><br><span class="line">    ~<span class="built_in">Event</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">Event</span>(<span class="type">const</span> Event &amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    <span class="built_in">Event</span>(Event &amp;&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    Event &amp;<span class="keyword">operator</span>=(<span class="type">const</span> Event &amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    Event &amp;<span class="keyword">operator</span>=(Event &amp;&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">AddListener</span><span class="params">(Listener&lt;Args...&gt; *listener)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_Listeners.<span class="built_in">push_back</span>(listener);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">RemoveListener</span><span class="params">(Listener&lt;Args...&gt; *listener)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_Listeners.<span class="built_in">remove</span>(listener);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Invoke</span><span class="params">(Args &amp;&amp;...args)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> l : m_Listeners)</span><br><span class="line">        &#123;</span><br><span class="line">            l-&gt;<span class="built_in">Handle</span>(std::forward&lt;Args&gt;(args)...);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span>:</span><br><span class="line">    std::list&lt;Listener&lt;Args...&gt; *&gt; m_Listeners;</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">HealthPoint</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> CurrentValue;</span><br><span class="line">    <span class="type">int</span> MaxValue;</span><br><span class="line"></span><br><span class="line">    Listener&lt;<span class="type">int</span>&gt; PlayerLevelUpListener;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">HealthPoint</span>(<span class="type">int</span> cv, <span class="type">int</span> mv)</span><br><span class="line">        : <span class="built_in">CurrentValue</span>(cv), <span class="built_in">MaxValue</span>(mv), <span class="built_in">PlayerLevelUpListener</span>(<span class="keyword">this</span>, &amp;HealthPoint::OnPlayeyLevelUp)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">OnPlayeyLevelUp</span><span class="params">(<span class="type">int</span> level)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        MaxValue += level * <span class="number">10</span>;</span><br><span class="line">        CurrentValue = MaxValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Player</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> Level&#123;<span class="number">1</span>&#125;;</span><br><span class="line">    HealthPoint Health;</span><br><span class="line">    Event&lt;<span class="type">int</span>&gt; LevelUpEvent&#123;&#125;;</span><br><span class="line">    <span class="built_in">Player</span>(<span class="type">int</span> cv, <span class="type">int</span> mv) : <span class="built_in">Health</span>(cv, mv)</span><br><span class="line">    &#123;</span><br><span class="line">        LevelUpEvent.<span class="built_in">AddListener</span>(&amp;Health.PlayerLevelUpListener);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">LevelUp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Level += <span class="number">1</span>;</span><br><span class="line">        LevelUpEvent.<span class="built_in">Invoke</span>(Level);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Player <span class="title">player</span><span class="params">(<span class="number">50</span>, <span class="number">100</span>)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;当前血量：&quot;</span> &lt;&lt; player.Health.CurrentValue &lt;&lt; <span class="string">&quot; 最大血量：&quot;</span> &lt;&lt; player.Health.MaxValue &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    player.<span class="built_in">LevelUp</span>();</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;当前血量：&quot;</span> &lt;&lt; player.Health.CurrentValue &lt;&lt; <span class="string">&quot; 最大血量：&quot;</span> &lt;&lt; player.Health.MaxValue &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输出</span></span><br><span class="line">    <span class="comment">// 当前血量：50 最大血量：100</span></span><br><span class="line">    <span class="comment">// 当前血量：120 最大血量：120</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h3><p>由于C++博大精深，而我所学尚浅，可能目前这个在我看来工作的还算不错的实现实际上有很多错误。但无论是中间某个步骤的完成，还是最终写完整个功能，都让我不自主地兴奋起来。希望能在许多这样的时刻中一直成长下去吧。</p>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> 设计模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>尝试写一下博客</title>
      <link href="/2023/11/01/%E5%BC%80%E5%A7%8B/"/>
      <url>/2023/11/01/%E5%BC%80%E5%A7%8B/</url>
      
        <content type="html"><![CDATA[<p>希望能坚持下去吧。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
